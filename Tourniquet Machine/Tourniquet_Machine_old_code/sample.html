<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pressure Control</title>
    <style>
      html {
        font-family: Arial, Helvetica, sans-serif;
        display: inline-block;
        text-align: center;
      }
      h2 {
        font-size: 3.0rem;
      }
      p {
        font-size: 3.0rem;
      }
      .button {
        display: inline-block;
        background-color: #e7bd3b;
        border: none;
        border-radius: 4px;
        color: white;
        padding: 16px 40px;
        text-decoration: none;
        font-size: 30px;
        margin: 2px;
        cursor: pointer;
      }
      .button2 {
        background-color: #4286f4;
      }
    </style>
  </head>
  <body>
    <h2>Pressure Control</h2>
    <p>State: <span id="state">N/A</span></p>
    <p>
      <a href="/update?valve=ON"><button class="button">Inflate</button></a>
    </p>
    <p>
      <a href="/update?valve=OFF"><button class="button button2">Deflate</button></a>
    </p>
    <p>
      <button class="button" onclick="getState()">Get State</button>
    </p>

    <script>
      function getState() {
        fetch('/state')
          .then(response => response.json())
          .then(data => {
            document.getElementById('state').innerText = data.state;
          })
          .catch(error => console.error('Error fetching state:', error));
      }
    </script>
  </body>
</html>

